
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>邮箱密码生成器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        button {
            padding: 10px 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #45a049;
        }
        #result {
            margin-top: 20px;
            border: 1px solid #ddd;
            padding: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        td, th {
            border: 1px solid #ddd;
            padding: 8px;
        }
        .copy-btn {
            padding: 3px 8px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="controls">
        <input type="text" id="emailSuffix" class="suffix-input"
                value="0321" placeholder="输入后缀" maxlength="4">
        <button onclick="generateData()">生成100组数据</button>
        <button onclick="copyAll()">复制全部</button>
        <button onclick="exportTXT()">导出TXT</button>
    </div>
    
    <div id="result"></div>

    <script>
        function generateData() {
            const suffix = document.getElementById('emailSuffix').value || '0321';
            const letters = 'abcdefghijkmnpqrstuvwxyz';
            const digits = ['1','2','5','6','8','9'];

            const emailPrefixes = [];
            for(let i = 0; i < letters.length; i++) {
                for(let j = 0; j < letters.length; j++) {
                    emailPrefixes.push(letters[i] + letters[j]);
                }
            }

            const passwords = [];
            const usedPasswords = new Set();
            while(passwords.length < 101) {
                const mid = Array.from({length: 3}, () => 
                    digits[Math.floor(Math.random() * digits.length)]).join('');
                const password = `g${mid}88`;
                if(!usedPasswords.has(password)) {
                    usedPasswords.add(password);
                    passwords.push(password);
                }
            }

            const combinations = emailPrefixes.slice(0, 100).map((prefix, i) => ({
                email: `${prefix}${suffix}@e.edu.kg`,
                password: passwords[i]
            }));

            displayResults(combinations);
        }

        function displayResults(data) {
            const html = `
                <table>
                    <tr>
                        <th>邮箱</th>
                        <th>密码</th>
                        <th>操作</th>
                    </tr>
                    ${data.map(item => `
                        <tr>
                            <td>${item.email}</td>
                            <td>${item.password}</td>
                            <td>
                                <button class="copy-btn" 
                                    onclick='copyToClipboard(${JSON.stringify(item.email)}, ${JSON.stringify(item.password)})'>
                                    复制
                                </button>
                            </td>
                        </tr>
                    `).join('')}
                </table>
            `;
            document.getElementById('result').innerHTML = html;
        }

        function copyToClipboard(email, password) {
            const text = `${email} ${password}`;
            navigator.clipboard.writeText(text).then(() => {
                alert("已复制到剪贴板");
            }).catch(err => {
                console.error('复制失败:', err);
                alert("复制失败，请手动复制");
            });
        }

        function copyAll() {
            const rows = Array.from(document.querySelectorAll('tr')).slice(1);
            const text = rows.map(tr => {
                const email = tr.cells[0].innerText;
                const password = tr.cells[1].innerText;
                return `${email} ${password}`;
            }).join('\n');

            navigator.clipboard.writeText(text).then(() => {
                alert("已复制全部内容");
            }).catch(err => {
                console.error('复制失败:', err);
                alert("复制失败，请手动复制");
            });
        }

        function exportTXT() {
            const rows = Array.from(document.querySelectorAll('tr')).slice(1);
            const content = rows.map(tr => {
                const email = tr.cells[0].innerText;
                const password = tr.cells[1].innerText;
                return `${email} ${password}`;
            }).join('\n');

            const blob = new Blob([content], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);

            const a = document.createElement('a');
            a.href = url;
            a.download = 'email_passwords.txt';
            a.click();
        }
    </script>
</body>
</html>
